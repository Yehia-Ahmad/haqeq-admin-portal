<div class="card" dir="rtl">
    <h1 class="text-primary font-bold mb-10">
        @if (initiativeInfo?.id) {
            تحديث المبادرة
        } @else {
            اضافة مبادرة
        }
    </h1>
    <form [formGroup]="initiativeForm" (ngSubmit)="onSubmit()" dir="rtl">
        <div class="flex flex-col flex-wrap gap-2 w-full">
            <label for="title" class="font-semibold">
                العنوان
            </label>
            <input pInputText pSize="large" id="title" placeholder="ادخل عنوان المبادرة" type="text" formControlName="title" />
        </div>
        <div class="flex flex-col md:flex-row gap-6 my-8">
            <div class="flex flex-col flex-wrap gap-2 w-full">
                <label for="author" class="font-semibold">
                    الحالة
                </label>
                <p-select [options]="status" formControlName="status" optionLabel="label" optionValue="value" placeholder="حدد حالة المبادرة" class="w-full" />
            </div>
            <div class="flex flex-col flex-wrap gap-2 w-full">
                <label for="author" class="font-semibold">
                    النوع
                </label>
                <p-select [options]="types" formControlName="type" optionLabel="label" optionValue="value" placeholder="حدد نوع المبادرة" class="w-full" />
            </div>
        </div>
        <div class="flex flex-col md:flex-row gap-6 my-8">
            <div class="flex flex-col flex-wrap gap-2 w-full">
                <label for="author" class="font-semibold">
                    الملف
                </label>
                <p-fileupload name="demo[]" (onUpload)="onUpload($event);onFileSelected($event)" [multiple]="false" accept="application/pdf" maxFileSize="1000000" mode="advanced" url="https://www.primefaces.org/cdn/api/upload.php">
                    <ng-template #empty>
                        <div>
                            اسحب وأفلِت الملفات إلى هنا للتحميل.
                        </div>
                    </ng-template>
                    <ng-template #content>
                        @if(uploadedFiles.length){
                            <ul>
                                @for(file of uploadedFiles; track $index){
                                    <li>{{ file.name }} - {{ file.size }} bytes</li>
                                }
                            </ul>
                        }
                    </ng-template>
                </p-fileupload>
            </div>
            <div class="flex flex-col flex-wrap gap-2 w-full">
                <label for="author" class="font-semibold">
                    الملصق
                </label>
                <p-fileupload name="demo[]" (onUpload)="onUpload($event);onSVGLogo($event)" [multiple]="false" accept="image/*" maxFileSize="1000000" mode="advanced" url="https://www.primefaces.org/cdn/api/upload.php">
                    <ng-template #empty>
                        <div>
                            اسحب وأفلِت الملفات إلى هنا للتحميل.
                        </div>
                    </ng-template>
                    <ng-template #content>
                        @if(uploadedFiles.length){
                            <ul>
                                @for(file of uploadedFiles; track $index){
                                    <li>{{ file.name }} - {{ file.size }} bytes</li>
                                }
                            </ul>
                        }
                    </ng-template>
                </p-fileupload>
            </div>
        </div>
        <div class="flex flex-col flex-wrap gap-2 w-full my-8">
            <label class="font-semibold">
                الوصف
            </label>
            <textarea class="w-full h-60 font-medium leading-8 tracking-wide" pTextarea placeholder="ادخل وصف المبادرة" formControlName="description" rows="4" cols="50"></textarea>
        </div>
        <div class="flex flex-col flex-wrap gap-2 w-full my-8">
            <label class="font-semibold">
                النتيجة
            </label>
            <textarea class="w-full h-60 font-medium leading-8 tracking-wide" pTextarea placeholder="ادخل نتيجة المبادرة" formControlName="conclusion" rows="4" cols="50"></textarea>
        </div>
        <div class="flex flex-col flex-wrap gap-2 w-full my-8">
            <label class="font-semibold">
                المحاور
            </label>
            <p-editor class="w-full" placeholder="ادخل المحاور" formControlName="axes"></p-editor>
        </div>
        @if (initiativeInfo?.id) {
            <div class="mt-10 w-full flex justify-end">
                <p-button label="تحديث" icon="pi pi-fw pi-user-edit" styleClass="p-button-success" type="submit" [fluid]="false"></p-button>
            </div>
        } @else {
            <div class="mt-10 w-full flex justify-end">
                <p-button label="اضافة" icon="pi pi-plus" styleClass="p-button-success" type="submit" [fluid]="false"></p-button>
            </div>
        }
    </form>
</div>
